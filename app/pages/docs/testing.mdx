---
title: Testing
sidebar_label: Testing
---

La dependencia `blitz` también instala y configura automáticamente `jest`,`@testing-library/react`, `@testing-library/react-hooks`, y
`@testing-libary/jest-dom` por ti.

## Jest {#jest}

[Jest](https://jestjs.io/) es un marco de pruebas encantador y sencillo
de usar. Para realizar las pruebas en tu aplicación, tendrás que ejecutar `jest` o `jest --watch` desde el terminal.

Para hacer un nuevo test, crea un archivo llamado `algo.test.ts` (o `.js`,`.tsx`, etc). 

Aquí un ejemplo:

```ts
import algo from "./algun_sitio"

it("hace algo", () => {
  const result = something()
  expect(result).toBe(true)
})
```

> Para más detalles sobre el uso de Jest,
> [lee la documentación de Jest](https://jestjs.io/es-ES/docs/using-matchers)

### Configuración de Jest {#jest-config}

Blitz proporciona un preajuste de Jest que configura muchas cosas complejas para ti, incluyendo el soporte de Typescript.

Si necesitas
[personalizar la configuración de jest](https://jestjs.io/docs/en/configuration), puedes
puede hacerlo en `jest.config.js`.

```ts
// jest.config.js
module.exports = {
  preset: "blitz",
}
```

### Entornos cliente vs servidor {#client-vs-server-environments}

Los siguientes archivos de prueba se ejecutarán en el entorno del servidor Jest:

- Archivos `*.test.*` dentro de una carpeta `api`, `queries` o `mutations`.
- Archivos `*.server.test.*`.

Todos los demás archivos se ejecutarán en el entorno del cliente Jest (con jsdom).

## @testing-library {#testing-library}

[@testing-library](https://testing-library.com/docs/) es una familia de
paquetes que te ayuda a probar los componentes de la interfaz de usuario de una manera más centrada en el usuario. Es una mejor
alternativa a Enzyme, si lo has usado en el pasado.

Los siguientes paquetes están instalados para ti. Consulta su documentación según sea necesario.

- [@testing-library/dom](https://testing-library.com/docs/dom-testing-library/intro)
- [@testing-library/jest-dom](https://testing-library.com/docs/ecosystem-jest-dom)
- [@testing-library/react](https://testing-library.com/docs/react-testing-library/intro)
- [@testing-library/react-hooks](https://react-hooks-testing-library.com/)

## Testing Utilities {#testing-utilities}

Blitz provides some basic testing utilities in the generated
`test/utils.tsx` file. These are intended for use with Jest and React
Testing Library to allow advanced configuration for your testing
environment. Customizing this file can be useful for testing things like
global providers as well as certain parts of your app which Blitz handles
internally such as routing and data querying.

### `BlitzProvider` {#blitz-provider}

This component works as the global provider for data queries and mutations
in your tests. Internally, it wraps the `QueryClient` component from
`react-query` and adds some additional configuration options.

`BlitzProvider` accepts the following props:

- `client` - The global query client used by React Query. By default the
  `queryClient` exported from `blitz` is used unless you override it.

- `contextSharing` - Controls whether or not the provider context can be
  shared across multiple applications. This can be useful when working in
  certain environments such as micro-frontends. Defaults to `false`.

- `dehydratedState` - The server state passed along to the application
  containing the results of server-side queries. Useful for testing
  queries that need to be
  [prerendered in markup and hydrated on the client](https://react-query.tanstack.com/guides/ssr#using-hydration).
